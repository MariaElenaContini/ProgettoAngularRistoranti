

<form [formGroup]="criteriRicerca" (ngSubmit)="ricerca()">
  <div style="text-align: center;">
    <h1 style="text-align: center;">
      <span style="color:navy">
        <em>CIAO! Tu sei qui:</em>
      </span>
    </h1>
    <img src="/assets/img.brooklyn.png" height="300" width="450">

    <div style="text-align: center;">
      <label for="a">Che tipo di cibo desideri?</label>
      <select id="a" class="form-control" formControlName="a" required>
        <option [value]=""></option>
        <option *ngFor="let a of attributi" [value]="a" >{{a}}</option>
      </select>

    </div> 

    <div style="text-align: center;">
      <label for="tempo">Quanto tempo hai?</label>
      <select id="t" class="form-control" formControlName="t" required>
        <option [value]=""></option>
        <option *ngFor="let t of tempi" [value]="t.minuti" >{{ t.testo }}</option>
      </select>
    </div>
    <div *ngIf="criteriRicerca.invalid" class="alert" style="margin: 0.5 cm ; color: darkred;font-style:italic;">
      Per avviare la ricerca devi inserire i dati richiesti!</div>
    <button class="btn btn-primary" type="submit" [disabled]="!criteriRicerca.valid" >CERCA</button>
    
  </div>
</form>

<div *ngIf="!submitted" style="text-align: center;">  <!-- ...quando non vengono inseriti dei criteri di ricervca ... -->
  <h2>Forse ti potrebbero interessare:</h2>
 <div>
  <table width="100%" style="text-align:center ">
    <tr  *ngFor="let ristorante of ristorantiVicini()">
      <td><b>{{ristorante.name | uppercase}} :</b></td>
      <td>{{ristorante.attributo}}</td>
      <td>tempo di permanenza medio: {{getTempo(ristorante.tempo)}}</td>
      <td>distante da te: {{getDistanza(ristorante.coordinates)}}</td>
    </tr>
  </table>
</div>
</div>
<div *ngIf="submitted" style="text-align: center;">  <!-- ...quando vengono inseriti dei criteri di ricervca ... --> 
  <div *ngIf="criteriRicerca.valid">
    <h2>Il risultato della tua ricerca:</h2>
   <div>
    <table width="100%" style="text-align:center ">
      <tr *ngFor="let r of ricerca()">
        <td><b>{{r.name | uppercase}} :</b></td>
        <td>{{r.attributo}}</td>
        <td>tempo di permanenza medio: {{getTempo(r.tempo)}}</td>
        <td>distante da te: {{getDistanza(r.coordinates)}}</td>
      </tr>
    </table>
   </div>
  </div>
</div>